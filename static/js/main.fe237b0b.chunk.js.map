{"version":3,"sources":["viz.js","taxa.js","controller.js","bar.js","example4.js","index.js"],"names":["draw","props","w","Math","max","document","documentElement","clientWidth","window","innerWidth","h","clientHeight","innerHeight","d3","append","attr","bubbles","shapes","radiusScale","domain","range","simulation","force","strength","d","number","circles","selectAll","data","enter","width","style","color","nodes","on","x","y","Viz","useEffect","remove","length","react_default","a","createElement","className","Taxa","Component","name","generas","Rectangles","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeCategory","bind","assertThisInitialized","handleChangeGenera","i","viewBox","id","height","transform","onClick","fill","selectedCategory","len","yOffsetLinear","xOffsetLinear","selectedGenera","e","onChangeCategory","target","onChangeGenera","_this2","selected","filter","c","generaOfSelected","map","category","drawRectangle","genera","drawGeneraRectangle","React","VizExample4","_this$props","points","locationX","locationY","r","frequency","accuracy","datum","xDomain","yDomain","rDomain","numCols","clamp","_this$_chartComponent","_chartComponents","key","cx","cy","App","state","newCategory","setState","newGenera","src_Navbar","bar_Rectangles","Navbar","href","ReactDOM","render","src_App","getElementById"],"mappings":"sQAWMA,EAAO,SAACC,GACV,IAAMC,EAAIC,KAAKC,IAAIC,SAASC,gBAAgBC,YAAaC,OAAOC,YAAc,GACxEC,EAAIP,KAAKC,IAAIC,SAASC,gBAAgBK,aAAcH,OAAOI,aAAe,GAChFC,IAAU,QAAQC,OAAO,OACtBC,KAAK,SAAUL,GACfK,KAAK,QAASb,GACda,KAAK,KAAM,WAEd,IAAMC,EAAUf,EAAMgB,OAChBb,EAAMS,IAAOG,GACbE,EAAcL,MAAeM,OAAO,CAAC,EAAGf,IAAMgB,MAAM,CAAC,EAAGhB,IAExDiB,EAAaR,MAChBS,MAAM,IAAKT,IAAUX,EAAE,GAAGqB,SAAS,MACnCD,MAAM,IAAKT,IAAUH,EAAE,GAAGa,SAAS,MACnCD,MAAM,SAAUT,MAAmBU,UAAU,OAC7CD,MAAM,UAAWT,IAAgB,SAAAW,GAAC,OAAIN,EAAYM,EAAEC,QAAQ,KAE3DC,EAAUb,IAAU,YAAYc,UAAU,UAC7CC,KAAK3B,EAAMgB,QACXY,QACAf,OAAO,cACPC,KAAK,IAAK,SAAAS,GAAC,OAAIA,EAAEM,MAAM,EAAE,OACzBC,MAAM,OAAQ,SAACP,GAAD,OAAOA,EAAEQ,MAAQR,EAAEQ,MAAQ,WAE5CX,EAAWY,MAAMhC,EAAMgB,QACtBiB,GAAG,OAEJ,WACIR,EACCX,KAAK,KAAM,SAAAS,GAAC,OAAIA,EAAEW,IAClBpB,KAAK,KAAM,SAAAS,GAAC,OAAIA,EAAEY,OAGVC,EA1CH,SAACpC,GAKX,OAJEqC,oBAAU,WACRzB,IAAU,YAAY0B,SACzBvC,EAAKC,IACJ,CAACA,EAAOA,EAAMgB,OAAOuB,SAChBC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SCqHTC,GC1HyBC,YDF3B,CACZ,CAACC,KAAM,UAAWC,QAAS,CAC1B,CAACD,KAAM,gBACP,CAACA,KAAM,gBACP,CAACA,KAAM,eACP,CAACA,KAAM,aACP,CAACA,KAAM,eACP,CAACA,KAAM,kBACP,CAACA,KAAM,cACP,CAACA,KAAM,eACP,CAACA,KAAM,eACP,CAACA,KAAM,cACP,CAACA,KAAM,aACP,CAACA,KAAM,YACP,CAACA,KAAM,YACP,CAACA,KAAM,cACP,CAACA,KAAM,cACP,CAACA,KAAM,gBACP,CAACA,KAAM,gBACP,CAACA,KAAM,eACP,CAACA,KAAM,iBACP,CAACA,KAAM,kBACP,CAACA,KAAM,kBACP,CAACA,KAAM,mBACP,CAACA,KAAM,gBACP,CAACA,KAAM,iBACP,CAACA,KAAM,gBAER,CAACA,KAAM,UAAWC,QAAS,CAC1B,CAACD,KAAM,gBACP,CAACA,KAAM,cACP,CAACA,KAAM,WACP,CAACA,KAAM,WACP,CAACA,KAAM,gBACP,CAACA,KAAM,cACP,CAACA,KAAM,kBACP,CAACA,KAAM,WACP,CAACA,KAAM,YACP,CAACA,KAAM,cACP,CAACA,KAAM,WACP,CAACA,KAAM,oBACP,CAACA,KAAM,wBACP,CAACA,KAAM,iBACP,CAACA,KAAM,eACP,CAACA,KAAM,cACP,CAACA,KAAM,iBACP,CAACA,KAAM,WACP,CAACA,KAAM,cACP,CAACA,KAAM,aACP,CAACA,KAAM,eACP,CAACA,KAAM,cACP,CAACA,KAAM,aAGR,CAACA,KAAM,YAAaC,QAAS,CAC5B,CAACD,KAAM,aACP,CAACA,KAAM,cACP,CAACA,KAAM,cACP,CAACA,KAAM,WACP,CAACA,KAAM,WACP,CAACA,KAAM,eAGR,CAACA,KAAM,qBAAsBC,QAAS,IACtC,CAACD,KAAM,aAAcC,QAAS,CAC7B,CAACD,KAAM,aACP,CAACA,KAAM,gBACP,CAACA,KAAM,eACP,CAACA,KAAM,aACP,CAACA,KAAM,eACP,CAACA,KAAM,aACP,CAACA,KAAM,aACP,CAACA,KAAM,aACP,CAACA,KAAM,gBACP,CAACA,KAAM,YACP,CAACA,KAAM,iBACP,CAACA,KAAM,kBAER,CAACA,KAAM,sBAAuBC,QAAS,CACtC,CAACD,KAAM,gBACP,CAACA,KAAM,WACP,CAACA,KAAM,eACP,CAACA,KAAM,YACP,CAACA,KAAM,eACP,CAACA,KAAM,YACP,CAACA,KAAM,iBACP,CAACA,KAAM,aACP,CAACA,KAAM,eACP,CAACA,KAAM,cACP,CAACA,KAAM,cACP,CAACA,KAAM,gB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","file":"static/js/main.fe237b0b.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst Viz = (props) => {\n    useEffect(() => {   \n      d3.select('.viz > *').remove();\n   draw(props)\n }, [props, props.shapes.length])\n  return <div className=\"viz\" />\n}\n\nconst draw = (props) => {\n    const w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    const h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    d3.select('.viz').append('svg')\n      .attr('height', h)\n      .attr('width', w)\n      .attr('id', 'svg-viz')\n\n    const bubbles = props.shapes\n    const max = d3.max(bubbles)\n    const radiusScale = d3.scaleSqrt().domain([0, max]).range([0, max])\n\n    const simulation = d3.forceSimulation()\n      .force('x', d3.forceX(w/3).strength(0.05))\n      .force('y', d3.forceY(h/3).strength(0.05))\n      .force('charge', d3.forceManyBody().strength(-1300))\n      .force('collide', d3.forceCollide(d => radiusScale(d.number)+1))\n\n  const circles = d3.select('#svg-viz').selectAll('circle')\n    .data(props.shapes)\n    .enter()\n    .append('svg:circle')\n    .attr('r', d => d.width/2+\"px\")\n    .style('fill', (d) => d.color ? d.color : 'purple')\n\t\n  simulation.nodes(props.shapes)\n  .on('tick', ticked)\n  \n  function ticked() {\n      circles\n      .attr('cx', d => d.x)\n      .attr('cy', d => d.y)\n    }\n  }\nexport default Viz\n\n\n","\nconst Taxa = [\n\t{name: \"Centric\", generas: [\n\t\t{name: \"Acanthoceras\"},\n\t\t{name: \"Actinocyclus\"},\n\t\t{name: \"Aulacoseira\"},\n\t\t{name: \"Brevisira\"},\n\t\t{name: \"Chaetoceros\"},\n\t\t{name: \"Cyclostephanos\"},\n\t\t{name: \"Cyclotella\"},\n\t\t{name: \"Discostella\"},\n\t\t{name: \"Ellerbeckia\"},\n\t\t{name: \"Eupodiscus\"},\n\t\t{name: \"Hydrosera\"},\n\t\t{name: \"Lindavia\"},\n\t\t{name: \"Melosira\"},\n\t\t{name: \"Orthoseira\"},\n\t\t{name: \"Pleurosira\"},\n\t\t{name: \"Pilocaenicus\"},\n\t\t{name: \"Puncticulata\"},\n\t\t{name: \"Skeletonema\"},\n\t\t{name: \"Spicaticribra\"},\n\t\t{name: \"Stephonocyclus\"},\n\t\t{name: \"Stephanodiscus\"},\n\t\t{name: \"Strelnikoviella\"},\n\t\t{name: \"Terpsinoë\"},\n\t\t{name: \"Thalassiosira\"},\n\t\t{name: \"Urosolenia\"},]\n\t},\n\t{name: \"Araphid\", generas: [\n\t\t{name: \"Asterionella\"},\n\t\t{name: \"Ctenophora\"},\n\t\t{name: \"Diatoma\"},\n\t\t{name: \"Diprora\"},\n\t\t{name: \"Distrionella\"},\n\t\t{name: \"Fragilaria\"},\n\t\t{name: \"Fragilariforma\"},\n\t\t{name: \"Hannaea\"},\n\t\t{name: \"Meridion\"},\n\t\t{name: \"Odontidium\"},\n\t\t{name: \"Oxyneis\"},\n\t\t{name: \"Pseudostaurosira\"},\n\t\t{name: \"Pseorostaurosiropsis\"},\n\t\t{name: \"Punctastriata\"},\n\t\t{name: \"Stauroforma\"},\n\t\t{name: \"Staurosira\"},\n\t\t{name: \"Staurosirella\"},\n\t\t{name: \"Synedra\"},\n\t\t{name: \"Tabellaria\"},\n\t\t{name: \"Tabularia\"},\n\t\t{name: \"Tetracyclus\"},\n\t\t{name: \"Tibetiella\"},\n\t\t{name: \"Ulnaria\"}]\n\t},\n\t\n\t{name: \"Eunotioid\", generas: [\n\t\t{name: \"Actinella\"},\n\t\t{name: \"Amphicampa\"},\n\t\t{name: \"Amphorotia\"},\n\t\t{name: \"Eunotia\"},\n\t\t{name: \"Peronia\"},\n\t\t{name: \"Semiorbis\"}]\n\t},\n\t\n\t{name: \"Symmetric Biraphid\", generas: []},\n\t{name: \"Monoraphid\", generas: [\n\t\t{name: \"Achnantes\"},\n\t\t{name: \"Achanthidium\"},\n\t\t{name: \"Anorthoneis\"},\n\t\t{name: \"Cocconeis\"},\n\t\t{name: \"Eucocconeis\"},\n\t\t{name: \"Gliwiczia\"},\n\t\t{name: \"Karayevia\"},\n\t\t{name: \"Lemnicola\"},\n\t\t{name: \"Planothidium\"},\n\t\t{name: \"Platessa\"},\n\t\t{name: \"Psammothidium\"},\n\t\t{name: \"Rossithidium\"},]\n\t},\n\t{name: \"Asymmetric Biraphid\", generas: [\n\t\t{name: \"Afrocymbella\"},\n\t\t{name: \"Amphora\"},\n\t\t{name: \"Brebissonia\"},\n\t\t{name: \"Cymbella\"},\n\t\t{name: \"Cymbopleura\"},\n\t\t{name: \"Delicata\"},\n\t\t{name: \"Didymosphenia\"},\n\t\t{name: \"Encyonema\"},\n\t\t{name: \"Encyonopsis\"},\n\t\t{name: \"Gomphoneis\"},\n\t\t{name: \"Gomphonema\"},\n\t\t{name: \"Gomphosinica\"},\n\t\t{name: \"Gomphosphenia\"},\n\t\t{name: \"Halamphora\"},\n\t\t{name: \"Kurtkrammeria\"},\n\t\t{name: \"Navicymbula\"},\n\t\t{name: \"Oricymba\"},\n\t\t{name: \"Reimeria\"},\n\t\t{name: \"Rhoicosphenia\"},]\n\t},\n\t{name: \"Epithemioid\", generas: [\n\t\t{name: \"Epithemia\"},\n\t\t{name: \"Rhopalodia\"}]\n\t},\n\t{name: \"Nitzschioid\", generas: [\n\t\t{name: \"Bacillaria\"},\n\t\t{name: \"Cylindrotheca\"},\n\t\t{name: \"Cymbellonitzschia\"},\n\t\t{name: \"Denticula\"},\n\t\t{name: \"Grunowia\"},\n\t\t{name: \"Hantzschia\"},\n\t\t{name: \"Nitzchia\"},\n\t\t{name: \"Psammodictyon\"},\n\t\t{name: \"Simonsenia\"},\n\t\t{name: \"Tryblionella\"}\n\t]},\n\t{name: \"Surirelloid\", generas: [\n\t\t{name: \"Campylodiscus\"},\n\t\t{name: \"Cymatopleura\"},\n\t\t{name: \"Entomoneis\"},\n\t\t{name: \"Stenopterobia\"},\n\t\t{name: \"Surirella\"}]\n\t}\n]\n\nexport default Taxa;\n","import React, { Component } from 'react';\nimport Viz from './viz.js'\n\nexport default class Controller extends Component {\n  state = {\n\t  color: \"\", \n\t  width: \"\", \n\t  toDraw: [], \n\t}\n\n  onSubmit = (evt) => {\n  \tevt.preventDefault(); \n  \tconst newShape = {\n  \t   color: this.state.color, \n  \t   width: this.state.width,\n  \t}\n    this.setState({ toDraw: [...this.state.toDraw, newShape]})\n  } \n\n  onChange = (evt) => {\n  \tthis.setState({[evt.target.name]: evt.target.value})\n  }\n\n  render() {\n    return(\n      <div className=\"controller\">\n        <form onSubmit={this.onSubmit}>\n        <label htmlFor=\"colorSelect\">pick a color:</label>\n        <select id=\"colorSelect\" name=\"color\" onChange={this.onChange} value={this.state.color||\"default\"}>\n          <option disabled value=\"default\">choose</option>\n          <option value=\"red\">red</option>\n          <option value=\"orange\">orange</option>\n          <option value=\"yellow\">yellow</option>\n        </select>\n        <label htmlFor=\"pixelInput\">how big:</label>\n        <input id=\"pixelInput\" name=\"width\" onChange={this.onChange} />\n        <button type=\"submit\">draw!</button>\n        </form>\n        { this.state.toDraw.length ? <Viz shapes={this.state.toDraw}/> : null}\n      </div>\n\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport * as d3 from \"d3\";\nimport Taxa from './taxa.js'\n\n\nclass Rectangles extends React.Component {\n    \n    constructor (props){\n        super(props)\n        this.handleChangeCategory = this.handleChangeCategory.bind(this)\n        this.handleChangeGenera = this.handleChangeGenera.bind(this)\n    }\n  \n    drawRectangle(props, i) {\n\n        const data = this.props.data\n        return (\n                  \n            <svg viewBox=\"100 -350 200 1000\">\n                   <rect\n                     id={this.props.data[i].name}\n                     className=\"category\"\n                     x={50}\n                     y={225}\n                     width={100}\n                     height={100}\n                     transform={\"rotate(\" + i * -360 / this.props.data.length + \",100 ,100)\"}\n                     onClick={this.handleChangeCategory}\n                     fill={this.props.data[i].name === this.props.selectedCategory ? \"olive\" : \"yellowgreen\"}\n                   />\n              \n              <g transform={\"rotate(\" + i * -360 / this.props.data.length + \",0 ,-100), translate(0,120)\"}>\n                <text\n                  className={this.props.data[i].name === this.props.selectedCategory ? \"heavy\" : \"small\"}\n                  x={50}\n                  y={200}\n                  transform={\"rotate(\" + i * 360 / this.props.data.length + \",0 ,0)\"}\n              >{props.name}</text></g>            </svg>);\n    }\n\n    drawGeneraRectangle(props, i, len) {\n        const data = this.props.data\n        var sizeLinear = d3.scaleLinear()\n            .domain([2, 59])  \n            .range([80, 0]);\n        var yOffsetLinear = d3.scaleLinear()\n            .domain([59, 2])\n            .range([200, 10]);\n        var xOffsetLinear = d3.scaleLinear()\n            .domain([59, 2])\n            .range([500, 350]);\n        let transformation = \"rotate(\"  + 360 / len * i + \",100,100)\"\n        let xOffset = xOffsetLinear(len)\n        let yOffset = yOffsetLinear(len)\n        return (<svg viewBox=\"100 -350 200 1000\" x={-120} y={-150}  id={\"svg-\" + props.name}>\n                   ><rect\n                     id={props.name}\n                     className=\"genera\"\n                      x={ 60 }\n                      y={ 400 }\n                      width={ 60 }\n                      height={ 60 }\n                     transform={\"rotate(\" + i * -360 / len +  \",100,100)\"}\n                     onClick={this.handleChangeGenera}\n                     fill={props.name === this.props.selectedGenera ? \"#668613\" : \"#9CB071\"}\n                    />\n                  <g\n                    transform={\"rotate(\"  + i * -360 / len + \",0,-280),translate(0,50)\"}\n                  >\n                  <text\n                    className={props.name === this.props.selectedGenera ? \"heavy\" : \"small\"}\n                    x={ 50 }\n                    y={ 360 }\n                    transform={\"rotate(\"  + i * 360 / len + \",0,0)\"}>{props.name}</text></g>\n                </svg>);\n    }\n\n\n    \n    handleChangeCategory(e){\n        this.props.onChangeCategory(e.target.id);\n    }\n\n    handleChangeGenera(e){\n        this.props.onChangeGenera(e.target.id);\n    }\n\n    \n    render(){\n         const w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n        const h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n        var selected = this.props.data.filter((c) => c.name == this.props.selectedCategory)\n        var generaOfSelected = selected ? selected.map((c, i) => c.generas) : null\n       \n        \n        \n        return<div>\n                <svg width={w} height={h}>\n            {this.props.data.map((category, i) =>this.drawRectangle(category, i))}\n            <g transform=\"translate(120,150)\">\n               {selected ? selected.map((category) => category.generas.map((genera, i) => this.drawGeneraRectangle(genera, i, generaOfSelected[0].length))) : null}\n                </g>\n          </svg>\n          \n         </div>\n    }    \n}\n\nclass BarChart extends React.Component {\n\n    componentDidMount() {\n        this.drawChart();\n    }\n    \n    drawChart(props) {\n        const data = this.props.data;\n        const w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n        const h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n   \n        const svg = d3.select(\"body\")\n            .append(\"svg\")\n            .attr(\"width\", w)\n            .attr(\"height\", h)\n            .attr('id', 'svg-viz');\n                  \n        svg.selectAll(\"rect\")\n            .data(this.props.data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", 100)\n            .attr(\"y\", 310)\n            .attr(\"width\", 100)\n            .attr(\"transform\", (d, i) => \"rotate(\" + i *  360 / 9  + \",360,360)\")\n            .attr(\"height\", 100)\n            .attr(\"fill\", this.props.color)\n\n        svg.selectAll(\"text\")\n            .data(this.props.data.map((category) => category.name))\n            .enter()\n            .append(\"text\")\n            .text((d) => d)\n            .attr(\"x\", 100)\n            .attr(\"y\", 310)\n            .attr(\"transform\", (d, i) => \"rotate(\" + i * 360 / 9 + \",360,360)\")\n    }\n\n    render(){\n        return <div id={\"#\" + this.props.id}></div>\n    }\n}\n\nexport { BarChart, Rectangles };\n\n","import React from 'react';\nimport * as d3 from 'd3';\n\nclass VizExample4 extends React.Component {\n\n\n    _chartComponents() {\n\n        const { width, height, data } = this.props\n        const points = data.map (d => {\n            return {\n                x: d.locationX,\n                y: d.locationY,\n                r: d.frequency,\n                color: d.accuracy,\n                datum: d\n            }\n        })\n        const xDomain = d3.extent(points, d => d.x)\n        const yDomain = d3.extent(points, d => d.y)\n        const x = d3.scaleLinear().domain(xDomain).range([0, width])\n        const y = d3.scaleLinear().domain(yDomain).range([0, height])\n        const rDomain = d3.extent(points, d => d.r)\n        const numCols = xDomain[1]\n        const r = d3.scaleLinear().domain(rDomain)\n              .range([0, (width / numCols) / 2 ])\n        const color = d3.scaleLinear().domain([0.3, 0.45, 0.6])\n              .range(['#0571b0', '#f7f7f7', '#ca0020']).clamp(true)\n\n        return {\n            points,\n            width,\n            height,\n            x,\n            y,\n            r,\n            color\n        }\n\n    }    \n\nrender() {\n    const { points, width, height, x, y, r, color } = this._chartComponents();\n\n    return (\n      <svg width={width} height={height} className='chart'>\n        {points.map((d, i) => {\n          return <circle key={i} cx={x(d.x)} cy={y(d.y)}\n                         r={r(d.r)} fill={color(d.color)} />;\n        })}\n      </svg>\n    );\n  }\n    \n}\n\nexport default VizExample4;\n","import React from 'react'; \nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Controller from './controller.js'\nimport * as d3 from 'd3';\nimport { BarChart, Rectangles } from './bar.js'\nimport VizExample4 from './example4.js'\nimport Taxa from './taxa.js'\n\nclass VisExampleApp extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {data: []}\n        const numRows =  30\n        const numCols = 50\n        const freqRng = d3.randomNormal(15, 15)\n        const accRng = d3.randomNormal(0.45, 0.1)\n        const rankRng = () => Math.ceil(Math.random() * 300)\n        for (let x = 0; x < numCols; x++) {\n            for (let y = 0; y < numRows; y++) {\n                const freq = freqRng();\n                this.state.data.push({ locationX: x, locationY: y, frequency: freq < 0 ? 0 : freq, accuracy: accRng(), rank: rankRng() });\n      }\n    }\n  }\n\n    // render the line chart and radial heatmap\n    render() {\n        return (\n            <div className='example'>\n              <h4>Example 4 - D3 Scales</h4>\n              <VizExample4 width={800} height={600} data={this.state.data} />\n            </div>\n        )\n    }\n}\n\n\n\nclass App extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            data: Taxa,\n            width: 700,\n            height: 500,\n            selectedCategory: \"\",\n            selectedGenera: \"\"\n            // id: root\n        }\n        this.handleChangeCategory = this.handleChangeCategory.bind(this)\n        this.handleChangeGenera = this.handleChangeGenera.bind(this)\n}\n\n    handleChangeCategory(newCategory){\n        this.setState({selectedCategory: newCategory})\n    }\n\n    handleChangeGenera(newGenera){\n        this.setState({selectedGenera: newGenera})\n    }\n    \n    render() {\n        return (\n            <div className=\"App\">\n              <Navbar />\n              <h1>Diatom</h1>\n              <h2>A morphology designed in calcium and silica</h2>\n              {/* <VisExampleApp /> */}\n              <Rectangles\n                 data={this.state.data}\n                color={this.state.color}\n                selectedCategory={this.state.selectedCategory}\n                onChangeCategory={this.handleChangeCategory}\n                selectedGenera={this.state.selectedGenera}\n                onChangeGenera={this.handleChangeGenera}/>\n      </div>\n    );\n  }\n}\n\n\n\nclass Navbar extends React.Component {\n    render(){\n    return(\n    <div className =\"topnav\">\n  <a className=\"active\" href=\"#home\">Home</a>\n  <a href=\"https://github.com/manandearth/diatom\">Github project</a>\n  <a href=\"#about\">About</a>\n    </div>\n    )\n    }\n}\n\n\nvar lineStyle = {\n    stroke: 'blue',\n    fill: 'yellowgreen',\n    strokeWidth: '1'\n};\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}